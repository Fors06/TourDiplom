<Window x:Class="Diplom.View.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        xmlns:local="clr-namespace:Diplom"
        mc:Ignorable="d"
        Title="Авторизация" SizeToContent="WidthAndHeight" MinWidth="400" MinHeight="450">

    <Window.InputBindings>
        <KeyBinding Key="Enter" Command="{Binding LoginCommand}" />
    </Window.InputBindings>

    <Window.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="pack://application:,,,/MaterialDesignColors;component/Themes/Recommended/Primary/MaterialDesignColor.Green.xaml"/>
                <ResourceDictionary Source="pack://application:,,,/MaterialDesignThemes.Wpf;component/Themes/MaterialDesignTheme.TextBox.xaml"/>
                <ResourceDictionary Source="pack://application:,,,/MaterialDesignThemes.Wpf;component/Themes/MaterialDesignTheme.PasswordBox.xaml"/>
                <ResourceDictionary Source="pack://application:,,,/MaterialDesignThemes.Wpf;component/Themes/MaterialDesignTheme.Button.xaml"/>
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </Window.Resources>

    <Border CornerRadius="10" Background="#FFFFFF" Padding="30">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <!-- Логотип и заголовок -->
                <RowDefinition Height="*"/>
                <!-- Форма входа -->
                <RowDefinition Height="Auto"/>
                <!-- Нижняя панель -->
            </Grid.RowDefinitions>

            <!-- Верхняя панель с логотипом -->
            <StackPanel Grid.Row="0" Orientation="Horizontal" HorizontalAlignment="Center" VerticalAlignment="Top">
                <Image MaxWidth="64" MaxHeight="64" Margin="0,10,0,10"/>
                <TextBlock Text="Авторизация" FontFamily="Segoe UI Light" FontSize="24" Foreground="#333333" Margin="10,0,0,0"/>
            </StackPanel>

            <!-- Форма входа -->
            <Grid Grid.Row="1" Margin="0,20,0,0">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" MinHeight="47"/>
                    <RowDefinition Height="Auto" MinHeight="71.28"/>
                    <RowDefinition Height="Auto" MinHeight="38.62"/>
                    <RowDefinition Height="Auto" MinHeight="75"/>
                </Grid.RowDefinitions>

                <TextBox 
                    Text="{Binding Username}"
                    Grid.Row="0"
                         materialDesign:HintAssist.Hint="Логин" 
                         Style="{DynamicResource MaterialDesignFloatingHintTextBox}"
                         Margin="20,0,20,0" FontSize="16"/>

                <PasswordBox
                    x:Name="passwordBox"
                    PasswordChanged="passwordBox_PasswordChanged"
                             materialDesign:HintAssist.Hint="Пароль" 
                             Style="{DynamicResource MaterialDesignFloatingHintPasswordBox}"
                             Margin="20,0,20,10" FontSize="16" Grid.Row="1"/>

                <CheckBox Grid.Row="2" Content="Запомнить меня" FontSize="14" Foreground="#333333" Margin="0,11,0,10" HorizontalAlignment="Center" Width="300"/>

                <Button Grid.Row="3" Content="Войти"
                        Command="{Binding LoginCommand}"
                        CommandParameter="{Binding RelativeSource={RelativeSource Self}}"
                        Style="{DynamicResource MaterialDesignFlatButton}"
                        FontSize="16" Margin="20,31,20,12" Foreground="White"
                        Background="#3f51b5"/>
                <TextBox HorizontalAlignment="Left" Margin="26,95,0,0" Grid.Row="3" TextWrapping="Wrap" Text="ivan.i@example.com" VerticalAlignment="Top" Width="120"/>
                <TextBox HorizontalAlignment="Left" Margin="184,95,0,0" Grid.Row="3" TextWrapping="Wrap" Text="pass1" VerticalAlignment="Top" Width="120"/>
            </Grid>

            <!-- Нижняя секция с дополнительной информацией -->
            <Grid Grid.Row="2" Margin="0,20,0,0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="49*"/>
                    <ColumnDefinition Width="Auto" MinWidth="33.999"/>
                    <ColumnDefinition Width="53*"/>
                </Grid.ColumnDefinitions>

                <TextBlock Grid.Column="0" TextTrimming="CharacterEllipsis" Margin="18,0,0,0">
                    <Hyperlink NavigateUri="./ForgotPasswordPage.xaml" >
                        <Run Text="Забыли пароль?" FontSize="14" Foreground="#333333"/>
                    </Hyperlink>
                </TextBlock>

                <TextBlock Grid.Column="1" Text=" | " FontSize="14" Foreground="#333333" Margin="5,0,5,0"/>

                <TextBlock Grid.Column="2" TextTrimming="CharacterEllipsis">
                    <Hyperlink NavigateUri="./RegistrationPage.xaml" >
                        <Run Text="Регистрация" FontSize="14" Foreground="#333333"/>
                    </Hyperlink>
                </TextBlock>
            </Grid>
        </Grid>
    </Border>
</Window>